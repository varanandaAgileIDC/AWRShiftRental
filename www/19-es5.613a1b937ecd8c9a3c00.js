function _classCallCheck(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,o){for(var e=0;e<o.length;e++){var t=o[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,o,e){return o&&_defineProperties(n.prototype,o),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{cWba:function(n,o,e){"use strict";e.r(o),e.d(o,"ResetPasswordPageModule",(function(){return _}));var t=e("ofXK"),r=e("3Pt+"),i=e("TEn/"),s=e("tyNb"),a=e("mrSG"),c=e("fXoL"),b=e("H+bZ");function d(n,o){if(1&n){var e=c.Nb();c.Mb(0,"ion-icon",13),c.Ub("click",(function(){return c.fc(e),c.Wb().oldHideShow()})),c.Lb()}}function u(n,o){if(1&n){var e=c.Nb();c.Mb(0,"ion-icon",14),c.Ub("click",(function(){return c.fc(e),c.Wb().oldHideShow()})),c.Lb()}}function f(n,o){1&n&&(c.Mb(0,"div"),c.jc(1,"Current password is required"),c.Lb())}function l(n,o){if(1&n&&(c.Mb(0,"div",15),c.ic(1,f,2,0,"div",16),c.Lb()),2&n){var e=c.Wb();c.zb(1),c.bc("ngIf",e.f.currentPassword.errors.required)}}function p(n,o){if(1&n){var e=c.Nb();c.Mb(0,"ion-icon",13),c.Ub("click",(function(){return c.fc(e),c.Wb().hideShowA()})),c.Lb()}}function g(n,o){if(1&n){var e=c.Nb();c.Mb(0,"ion-icon",14),c.Ub("click",(function(){return c.fc(e),c.Wb().hideShowA()})),c.Lb()}}function w(n,o){1&n&&(c.Mb(0,"div"),c.jc(1,"New Password is required"),c.Lb())}function m(n,o){if(1&n&&(c.Mb(0,"div",15),c.ic(1,w,2,0,"div",16),c.Lb()),2&n){var e=c.Wb();c.zb(1),c.bc("ngIf",e.f.newPassword.errors.required)}}function h(n,o){if(1&n){var e=c.Nb();c.Mb(0,"ion-icon",13),c.Ub("click",(function(){return c.fc(e),c.Wb().hideShowB()})),c.Lb()}}function v(n,o){if(1&n){var e=c.Nb();c.Mb(0,"ion-icon",14),c.Ub("click",(function(){return c.fc(e),c.Wb().hideShowB()})),c.Lb()}}function y(n,o){1&n&&(c.Mb(0,"div"),c.jc(1,"Confirm Password is required"),c.Lb())}function P(n,o){if(1&n&&(c.Mb(0,"div",15),c.ic(1,y,2,0,"div",16),c.Lb()),2&n){var e=c.Wb();c.zb(1),c.bc("ngIf",e.f.confirmPassword.errors.required)}}var M,k,C,x=[{path:"",component:(M=function(){function n(o,e,t,r,i){_classCallCheck(this,n),this.formBuilder=o,this.platform=e,this.router=t,this.apiService=r,this.alertCtrl=i,this.submitted=!1,this.oldPassword="password",this.passwordTypeA="password",this.passwordTypeB="password"}return _createClass(n,[{key:"ngOnInit",value:function(){this.resetForm=this.formBuilder.group({currentPassword:["",[r.m.required]],newPassword:["",r.m.required],confirmPassword:["",r.m.required]})}},{key:"ionViewDidEnter",value:function(){var n=this,o=JSON.parse(localStorage.getItem("AWRLogin"));o&&(this.users=o.userdata),this.platform.backButton.subscribeWithPriority(10,(function(o){console.log("Back press handler!"),"/tabs/tab1"==n.router.routerState.snapshot.url?n.presentConfirm():n.router.navigate(["/tabs"])}))}},{key:"hideShowA",value:function(){this.passwordTypeA="text"===this.passwordTypeA?"password":"text"}},{key:"oldHideShow",value:function(){this.oldPassword="text"===this.oldPassword?"password":"text"}},{key:"hideShowB",value:function(){this.passwordTypeB="text"===this.passwordTypeB?"password":"text"}},{key:"presentConfirm",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertCtrl.create({message:"Are you sure you want to exit?",buttons:[{text:"Cancel",role:"cancel",handler:function(){console.log("Cancel clicked")}},{text:"Yes",handler:function(){console.log("Yes clicked"),navigator.app.exitApp()}}]});case 2:return o=n.sent,n.next=5,o.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"onSubmit",value:function(){this.submitted=!0,console.log(this.resetForm.controls.errors),this.resetForm.invalid||(console.log(this.resetForm.value),this.reset(this.resetForm.value))}},{key:"reset",value:function(n){var o=this;this.apiService.postMethod("api/change-password?",{id:this.users.id,current_password:n.currentPassword,new_password:n.newPassword,confirm_password:n.confirmPassword}).then((function(n){console.log(n),"S"==n.status?(o.apiService.nativeToast(n.message),o.resetForm.reset(),o.router.navigate(["/login"])):o.apiService.nativeToast(n.errors?n.errors:n.message)}),(function(n){console.log(n),o.apiService.nativeToast(n.error.message)}))}},{key:"f",get:function(){return this.resetForm.controls}}]),n}(),M.\u0275fac=function(n){return new(n||M)(c.Jb(r.a),c.Jb(i.M),c.Jb(s.g),c.Jb(b.a),c.Jb(i.b))},M.\u0275cmp=c.Db({type:M,selectors:[["app-reset-password"]],decls:36,vars:13,consts:[["slot","start"],[3,"formGroup","ngSubmit"],[1,"input-group"],[1,"input-field"],["position","floating"],["type","email","formControlName","currentPassword",3,"type"],["class","eyeIcon","slot","end","name","eye-off-outline",3,"click",4,"ngIf"],["class","eyeIcon","slot","end","name","eye-outline",3,"click",4,"ngIf"],["class","invalid-feedback feedBack",4,"ngIf"],["type","password","formControlName","newPassword",3,"type"],[1,"password"],["type","password","formControlName","confirmPassword",3,"type"],["type","submit","expand","block",1,"ion-color-primary"],["slot","end","name","eye-off-outline",1,"eyeIcon",3,"click"],["slot","end","name","eye-outline",1,"eyeIcon",3,"click"],[1,"invalid-feedback","feedBack"],[4,"ngIf"]],template:function(n,o){1&n&&(c.Mb(0,"ion-content"),c.Mb(1,"ion-header"),c.Mb(2,"ion-toolbar"),c.Mb(3,"ion-buttons",0),c.Kb(4,"ion-menu-button"),c.Lb(),c.Mb(5,"ion-title"),c.jc(6," Reset Password "),c.Lb(),c.Lb(),c.Lb(),c.Mb(7,"ion-content"),c.Mb(8,"form",1),c.Ub("ngSubmit",(function(){return o.onSubmit()})),c.Mb(9,"div",2),c.Mb(10,"div",3),c.Mb(11,"ion-item"),c.Mb(12,"ion-label",4),c.jc(13,"Current Password"),c.Lb(),c.Kb(14,"ion-input",5),c.ic(15,d,1,0,"ion-icon",6),c.ic(16,u,1,0,"ion-icon",7),c.Lb(),c.Lb(),c.ic(17,l,2,1,"div",8),c.Mb(18,"div",3),c.Mb(19,"ion-item"),c.Mb(20,"ion-label",4),c.jc(21,"New Password"),c.Lb(),c.Kb(22,"ion-input",9),c.ic(23,p,1,0,"ion-icon",6),c.ic(24,g,1,0,"ion-icon",7),c.Lb(),c.Lb(),c.ic(25,m,2,1,"div",8),c.Mb(26,"div",3),c.Mb(27,"ion-item",10),c.Mb(28,"ion-label",4),c.jc(29,"Confirm Password"),c.Lb(),c.Kb(30,"ion-input",11),c.ic(31,h,1,0,"ion-icon",6),c.ic(32,v,1,0,"ion-icon",7),c.Lb(),c.Lb(),c.ic(33,P,2,1,"div",8),c.Lb(),c.Mb(34,"ion-button",12),c.jc(35,"Reset"),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&n&&(c.zb(8),c.bc("formGroup",o.resetForm),c.zb(6),c.bc("type",o.oldPassword),c.zb(1),c.bc("ngIf","password"==o.oldPassword),c.zb(1),c.bc("ngIf","text"==o.oldPassword),c.zb(1),c.bc("ngIf",o.submitted&&o.f.currentPassword.errors),c.zb(5),c.bc("type",o.passwordTypeA),c.zb(1),c.bc("ngIf","password"==o.passwordTypeA),c.zb(1),c.bc("ngIf","text"==o.passwordTypeA),c.zb(1),c.bc("ngIf",o.submitted&&o.f.newPassword.errors),c.zb(5),c.bc("type",o.passwordTypeB),c.zb(1),c.bc("ngIf","password"==o.passwordTypeB),c.zb(1),c.bc("ngIf","text"==o.passwordTypeB),c.zb(1),c.bc("ngIf",o.submitted&&o.f.confirmPassword.errors))},directives:[i.j,i.m,i.G,i.g,i.t,i.F,r.n,r.i,r.c,i.p,i.q,i.o,i.O,r.h,r.b,t.j,i.f,i.n],styles:["ion-title[_ngcontent-%COMP%]{float:left;position:relative;font-weight:400;padding-left:0}.menu-btn[_ngcontent-%COMP%]{--background:transparent;--box-shadow:none;color:#fff;float:left}ion-content[_ngcontent-%COMP%]{--background:none;background-image:url(/assets/body-bg.png);background-position:top;background-repeat:no-repeat;background-size:cover}.header-md[_ngcontent-%COMP%]:after{display:none}ion-toolbar[_ngcontent-%COMP%]{--background:transparent;--ion-color-base:transparent!important;--box-shadow:none;color:#fff}.input-field[_ngcontent-%COMP%]{background:#eef4fa;border-radius:14px;overflow:hidden;margin-bottom:15px;margin-left:20px;margin-right:20px}ion-item[_ngcontent-%COMP%]{--ion-background-color:transparent;--border-color:transparent;color:#484d52;--highlight-color-focused:transparent}ion-button[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}ion-button.ion-color-primary[_ngcontent-%COMP%]{--background:#1d97db}ion-button.ion-color-primary[_ngcontent-%COMP%], ion-button.ion-color-secondary[_ngcontent-%COMP%]{--box-shadow:none;--border-radius:14px;height:55px;text-transform:capitalize}ion-button.ion-color-secondary[_ngcontent-%COMP%]{--background:#eef4fa;--color:#484d52}ion-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:10px}.feedBack[_ngcontent-%COMP%]{margin-left:30px}.eyeIcon[_ngcontent-%COMP%]{margin-top:20px}"]}),M)}],L=((C=function n(){_classCallCheck(this,n)}).\u0275mod=c.Hb({type:C}),C.\u0275inj=c.Gb({factory:function(n){return new(n||C)},imports:[[s.i.forChild(x)],s.i]}),C),_=((k=function n(){_classCallCheck(this,n)}).\u0275mod=c.Hb({type:k}),k.\u0275inj=c.Gb({factory:function(n){return new(n||k)},imports:[[t.b,r.d,i.H,L,r.l]]}),k)}}]);