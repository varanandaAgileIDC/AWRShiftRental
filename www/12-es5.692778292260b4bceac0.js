function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{F4UR:function(n,t,e){"use strict";e.r(t),e.d(t,"LoginPageModule",(function(){return C}));var o=e("ofXK"),i=e("3Pt+"),r=e("TEn/"),a=e("tyNb"),c=e("mrSG"),s=e("fXoL"),l=e("H+bZ"),u=e("tk/3");function b(n,t){1&n&&(s.Mb(0,"div"),s.jc(1,"Email is required"),s.Lb())}function d(n,t){if(1&n&&(s.Mb(0,"div",12),s.ic(1,b,2,0,"div",13),s.Lb()),2&n){var e=s.Wb();s.zb(1),s.bc("ngIf",e.f.email.errors.required)}}function p(n,t){1&n&&(s.Mb(0,"div"),s.jc(1,"Password is required"),s.Lb())}function g(n,t){if(1&n&&(s.Mb(0,"div",12),s.ic(1,p,2,0,"div",13),s.Lb()),2&n){var e=s.Wb();s.zb(1),s.bc("ngIf",e.f.password.errors.required)}}var f,m,h,v=[{path:"",component:(f=function(){function n(t,e,o,i,r,a){_classCallCheck(this,n),this.router=t,this.apiService=e,this.http=o,this.platform=i,this.alertCtrl=r,this.formBuilder=a,this.submitted=!1}return _createClass(n,[{key:"ngOnInit",value:function(){this.loginForm=this.formBuilder.group({email:["",[i.m.required,i.m.email,i.m.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",i.m.required]})}},{key:"ionViewDidEnter",value:function(){var n=this;this.platform.backButton.subscribeWithPriority(10,(function(t){console.log("Back press handler!"),"/login"==n.router.routerState.snapshot.url&&n.presentConfirm()}))}},{key:"onSubmit",value:function(){this.submitted=!0,this.loginForm.invalid||(console.log(this.loginForm.value),this.login(this.loginForm.value))}},{key:"login",value:function(n){var t=this;this.apiService.postMethod("api/login?",{email:n.email,password:n.password,usertype:"customer"}).then((function(n){console.log(n),0==n.userdata.status?t.apiService.nativeToast(n.message):(t.loginForm.reset(),localStorage.setItem("AWRLogin",JSON.stringify(n)),t.router.navigate(["/tabs"]))}),(function(n){console.log(n),t.apiService.nativeToast(n.error.message)}))}},{key:"register",value:function(){this.router.navigateByUrl("/register")}},{key:"presentConfirm",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertCtrl.create({message:"Are you sure you want to exit?",buttons:[{text:"Cancel",role:"cancel",handler:function(){console.log("Cancel clicked")}},{text:"Yes",handler:function(){console.log("Yes clicked"),navigator.app.exitApp()}}]});case 2:return t=n.sent,n.next=5,t.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"f",get:function(){return this.loginForm.controls}}]),n}(),f.\u0275fac=function(n){return new(n||f)(s.Jb(a.g),s.Jb(l.a),s.Jb(u.a),s.Jb(r.K),s.Jb(r.b),s.Jb(i.a))},f.\u0275cmp=s.Db({type:f,selectors:[["app-login"]],decls:27,vars:3,consts:[["src","../../../assets/login-banner.png",2,"margin-top","-2px"],[3,"formGroup","ngSubmit"],[1,"input-group"],[1,"input-field"],["position","floating"],["type","email","formControlName","email"],["class","invalid-feedback",4,"ngIf"],[1,"password"],["type","password","formControlName","password"],["type","submit","expand","block",1,"ion-color-primary"],[2,"font-size","14px","text-align","center"],["expand","block",1,"ion-color-primary",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,t){1&n&&(s.Mb(0,"div"),s.Kb(1,"img",0),s.Lb(),s.Mb(2,"ion-content"),s.Mb(3,"h5"),s.jc(4,"Let's Go Anywhere, Anytime"),s.Lb(),s.Mb(5,"form",1),s.Ub("ngSubmit",(function(){return t.onSubmit()})),s.Mb(6,"div",2),s.Mb(7,"div",3),s.Mb(8,"ion-item"),s.Mb(9,"ion-label",4),s.jc(10,"Email address"),s.Lb(),s.Kb(11,"ion-input",5),s.Lb(),s.Lb(),s.ic(12,d,2,1,"div",6),s.Mb(13,"div",3),s.Mb(14,"ion-item",7),s.Mb(15,"ion-label",4),s.jc(16,"Password"),s.Lb(),s.Kb(17,"ion-input",8),s.Lb(),s.Lb(),s.ic(18,g,2,1,"div",6),s.Lb(),s.Mb(19,"ion-button",9),s.jc(20,"Login"),s.Lb(),s.Mb(21,"h6"),s.jc(22,"Or"),s.Lb(),s.Mb(23,"p",10),s.jc(24,"if you don't have an account please"),s.Lb(),s.Mb(25,"ion-button",11),s.Ub("click",(function(){return t.register()})),s.jc(26,"Register"),s.Lb(),s.Lb(),s.Lb()),2&n&&(s.zb(5),s.bc("formGroup",t.loginForm),s.zb(7),s.bc("ngIf",t.submitted&&t.f.email.errors),s.zb(6),s.bc("ngIf",t.submitted&&t.f.password.errors))},directives:[r.j,i.n,i.i,i.c,r.p,r.q,r.o,r.M,i.h,i.b,o.j,r.f],styles:["ion-content[_ngcontent-%COMP%]{--padding-start:10%;--padding-end:10%;--background:#fff;--color:#484d52}.input-field[_ngcontent-%COMP%]{background:#eef4fa;border-radius:14px;overflow:hidden;margin-bottom:15px}ion-item[_ngcontent-%COMP%]{--ion-background-color:transparent;--border-color:transparent;--color:#484d52;--highlight-color-focused:transparent}.uae-flag[_ngcontent-%COMP%]{width:73px;height:18px;position:absolute;margin-top:19px;border-right:1px solid #999}.uae-flag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;float:left}.mobile-number[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .mobile-number[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:80px}ion-button.ion-color-primary[_ngcontent-%COMP%]{--background:#1d97db}ion-button.ion-color-primary[_ngcontent-%COMP%], ion-button.ion-color-secondary[_ngcontent-%COMP%]{--box-shadow:none;--border-radius:14px;height:55px;text-transform:capitalize}ion-button.ion-color-secondary[_ngcontent-%COMP%]{--background:#eef4fa;--color:#484d52}ion-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:10px}h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{text-align:center}h5[_ngcontent-%COMP%]{color:#1d97db;margin-bottom:30px}"]}),f)}],M=((h=function n(){_classCallCheck(this,n)}).\u0275mod=s.Hb({type:h}),h.\u0275inj=s.Gb({factory:function(n){return new(n||h)},imports:[[a.i.forChild(v)],a.i]}),h),C=((m=function n(){_classCallCheck(this,n)}).\u0275mod=s.Hb({type:m}),m.\u0275inj=s.Gb({factory:function(n){return new(n||m)},imports:[[o.b,i.d,r.H,M,i.l]]}),m)}}]);